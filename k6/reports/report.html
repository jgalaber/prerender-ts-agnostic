
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Express Prerender vs TS Express v4 vs TS Express v5 vs Bun.sh</title>
<link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{margin:1rem;font-family:sans-serif}
h1,h2{margin-bottom:0.3rem}
table{width:100%;margin:1rem 0}
th,td{text-align:center}
.best{background:#c8e6c9;font-weight:600}
.worst{background:#ffcdd2;font-weight:600}
.grid{display:grid;grid-template-columns:1fr;gap:16px}
@media(min-width:900px){.grid{grid-template-columns:1fr 1fr}}
.card{padding:12px;border:1px solid #e0e0e0;border-radius:8px}
canvas{max-height:360px}
</style>
</head>
<body>
<h1>Express Prerender vs TS Express v4 vs TS Express v5 vs Bun.sh</h1>

<div class="grid">
  <div class="card"><h2>Human – Latency (avg, p50, p95)</h2><canvas id="chartHumanLatency"></canvas></div>
  <div class="card"><h2>Bot – Latency (avg, p50, p95)</h2><canvas id="chartBotLatency"></canvas></div>
  <div class="card"><h2>Human – Fail rate (%)</h2><canvas id="chartHumanFail"></canvas></div>
  <div class="card"><h2>Bot – Fail rate (%)</h2><canvas id="chartBotFail"></canvas></div>
  <div class="card"><h2>Human – Total requests</h2><canvas id="chartHumanReq"></canvas></div>
  <div class="card"><h2>Bot – Total requests</h2><canvas id="chartBotReq"></canvas></div>
</div>


<h2>Human</h2>
<table class="pure-table pure-table-striped">
  <thead><tr><th>metric</th><th>Express Prerender</th><th>TS Express v4</th><th>TS Express v5</th><th>Bun.sh</th></tr></thead>
  <tbody>
    <tr>
            <td>avg</td>
            <td class="best">1.10</td>
            <td class="best">1.10</td>
            <td class="">1.15</td>
            <td class="worst">1.36</td>
          </tr><tr>
            <td>p50</td>
            <td class="best">1.11</td>
            <td class="best">1.11</td>
            <td class="">1.15</td>
            <td class="worst">1.60</td>
          </tr><tr>
            <td>p90</td>
            <td class="best">1.63</td>
            <td class="best">1.63</td>
            <td class="">1.69</td>
            <td class="worst">2.47</td>
          </tr><tr>
            <td>p95</td>
            <td class="">1.79</td>
            <td class="best">1.78</td>
            <td class="">1.86</td>
            <td class="worst">2.62</td>
          </tr><tr>
            <td>p99</td>
            <td class="">2.16</td>
            <td class="best">2.09</td>
            <td class="">2.20</td>
            <td class="worst">3.12</td>
          </tr><tr>
            <td>min</td>
            <td class="worst">0.29</td>
            <td class="">0.27</td>
            <td class="">0.27</td>
            <td class="best">0.16</td>
          </tr><tr>
            <td>max</td>
            <td class="worst">10.40</td>
            <td class="best">7.70</td>
            <td class="">8.45</td>
            <td class="">8.73</td>
          </tr>
    <tr><td>fail rate</td><td class="best">0.00</td><td class="best">0.00</td><td class="best">0.00</td><td class="best">0.00</td></tr>
    <tr><td>total req</td><td class="best">11901.00</td><td class="best">11901.00</td><td class="best">11901.00</td><td class="best">11901.00</td></tr>
  </tbody>
</table>
<h2>Bot</h2>
<table class="pure-table pure-table-striped">
  <thead><tr><th>metric</th><th>Express Prerender</th><th>TS Express v4</th><th>TS Express v5</th><th>Bun.sh</th></tr></thead>
  <tbody>
    <tr>
            <td>avg</td>
            <td class="">1.45</td>
            <td class="best">1.35</td>
            <td class="">1.39</td>
            <td class="worst">2.29</td>
          </tr><tr>
            <td>p50</td>
            <td class="">1.48</td>
            <td class="best">1.38</td>
            <td class="">1.41</td>
            <td class="worst">2.08</td>
          </tr><tr>
            <td>p90</td>
            <td class="">2.10</td>
            <td class="best">1.98</td>
            <td class="">2.04</td>
            <td class="worst">4.53</td>
          </tr><tr>
            <td>p95</td>
            <td class="">2.35</td>
            <td class="best">2.20</td>
            <td class="">2.26</td>
            <td class="worst">5.04</td>
          </tr><tr>
            <td>p99</td>
            <td class="">2.79</td>
            <td class="">2.59</td>
            <td class="best">2.57</td>
            <td class="worst">5.86</td>
          </tr><tr>
            <td>min</td>
            <td class="worst">0.44</td>
            <td class="best">0.21</td>
            <td class="">0.27</td>
            <td class="">0.34</td>
          </tr><tr>
            <td>max</td>
            <td class="best">9.16</td>
            <td class="">11.79</td>
            <td class="worst">30.20</td>
            <td class="">10.44</td>
          </tr>
    <tr><td>fail rate</td><td class="best">0.00</td><td class="best">0.00</td><td class="best">0.00</td><td class="best">0.00</td></tr>
    <tr><td>total req</td><td class="worst">11900.00</td><td class="worst">11900.00</td><td class="worst">11900.00</td><td class="best">11901.00</td></tr>
  </tbody>
</table>

<script>
const labels = ["Express Prerender","TS Express v4","TS Express v5","Bun.sh"];
const human = {"avg":[1.101649693303082,1.1019222754390414,1.1456143181245324,1.355536425510461],"p50":[1.111,1.111,1.153,1.599],"p95":[1.791,1.78,1.857,2.62],"fail":[0,0,0,0],"req":[11901,11901,11901,11901]};
const bot = {"avg":[1.4529003361344537,1.354258067226883,1.3931084873949584,2.29218368204352],"p50":[1.478,1.377,1.407,2.082],"p95":[2.3540499999999995,2.203,2.2590499999999993,5.042],"fail":[0,0,0,0],"req":[11900,11900,11900,11901]};

function mkBar(id, ds) {
  new Chart(document.getElementById(id), {
    type: 'bar',
    data: { labels, datasets: ds },
    options: { responsive: true, plugins: { legend: { position: 'top' } }, scales: { y: { beginAtZero: true } } }
  });
}

mkBar('chartHumanLatency', [
  { label: 'avg (ms)', data: human.avg },
  { label: 'p50 (ms)', data: human.p50 },
  { label: 'p95 (ms)', data: human.p95 },
]);
mkBar('chartBotLatency', [
  { label: 'avg (ms)', data: bot.avg },
  { label: 'p50 (ms)', data: bot.p50 },
  { label: 'p95 (ms)', data: bot.p95 },
]);
mkBar('chartHumanFail', [{ label: 'fail rate (%)', data: human.fail }]);
mkBar('chartBotFail', [{ label: 'fail rate (%)', data: bot.fail }]);
mkBar('chartHumanReq', [{ label: 'total req', data: human.req }]);
mkBar('chartBotReq', [{ label: 'total req', data: bot.req }]);
</script>

</body>
</html>